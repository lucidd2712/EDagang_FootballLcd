{% extends 'base.html' %}
{% load static %}

{% block meta %}
{% if user.is_authenticated %}
<meta name="user-id" content="{{ user.id }}">
{% endif %}

<title>Football Products</title>
{% endblock meta %}

{% block content %}
{% include 'navbar.html' %}
<div class="bg-blue-50 w-full pt-16 min-h-screen">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- Header -->
    <div class="mb-6">
      <h1 class="text-3xl font-bold text-gray-900 mb-1">Latest Football Products</h1>
      <p class="text-gray-600">Discover the newest football gear and accessories</p>
    </div>

    <!-- Toolbar -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 bg-white rounded-lg border border-blue-100 p-4">
      <div class="flex gap-2">
        <button id="btn-all" class="px-4 py-2 rounded-md font-medium bg-blue-600 text-white">All Products</button>
        <button id="btn-my" class="px-4 py-2 rounded-md font-medium border border-blue-300 text-blue-700 hover:bg-blue-600 hover:text-white transition">My Products</button>
        <div class="relative">
          <select id="categoryFilter" class="px-3 py-2 rounded-md border border-blue-300 text-blue-700 bg-white">
            <option value="">All Category</option>
            <option value="apparel">Apparel</option>
            <option value="accessories">Accessories</option>
            <option value="shoes">Shoes</option>
          </select>
        </div>
      </div>
      <div class="flex gap-2 mt-3 sm:mt-0">
        <button id="btn-refresh" class="px-4 py-2 rounded-md font-medium border border-blue-300 text-blue-700 hover:bg-blue-600 hover:text-white transition">Refresh</button>
        {% if user.is_authenticated %}
        <button id="btn-create" class="px-4 py-2 rounded-md font-medium bg-blue-600 text-white">Create Product</button>
        {% endif %}
      </div>
    </div>

    <!-- Loading -->
    <div id="loading" class="bg-white rounded-lg border border-blue-100 p-12 text-center hidden">
      <svg class="animate-spin h-8 w-8 text-blue-600 inline-block" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
      </svg>
      <p class="text-gray-600 mt-2">Loading products...</p>
    </div>

    <!-- Error -->
    <div id="error" class="hidden bg-white rounded-lg border border-red-200 p-6">
      <p class="text-red-700 font-medium">Failed to load products. Please try again.</p>
    </div>

    <!-- Empty -->
    <div id="empty" class="hidden bg-white rounded-lg border border-blue-100 p-12 text-center">
      <div class="mx-auto mb-4 flex h-28 w-28 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 ring-1 ring-inset ring-blue-200">
        <img src="{% static 'image/no-products.svg' %}" alt="No products" class="h-16 w-16"/>
      </div>
      <h3 class="text-lg font-medium text-gray-900 mb-2">No products found</h3>
      <p class="text-gray-500">Be the first to add your product.</p>
    </div>

    <!-- Grid -->
    <div id="grid" class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </div>
</div>
{% endblock content %}
